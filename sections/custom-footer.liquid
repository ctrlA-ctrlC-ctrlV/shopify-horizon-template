{% comment %}
  Custom Footer Section
  =============================================================================
  A responsive four-column footer layout with brand identity, contact
  information, navigation links, and social media integration.
  Adapted from the React Footer component to follow Shopify Horizon
  theme conventions and consume its design tokens.
  =============================================================================
{% endcomment %}

{{ 'custom-footer.css' | asset_url | stylesheet_tag }}

<div class="section-background color-{{ section.settings.color_scheme }}"></div>

<footer
  class="section section--{{ section.settings.section_width }} color-{{ section.settings.color_scheme }}"
  {{ section.shopify_attributes }}
>
  {%- comment -%} MAIN FOOTER CONTENT: FOUR-COLUMN GRID {%- endcomment -%}
  <div
    class="custom-footer spacing-style"
    style="{% render 'spacing-style', settings: section.settings %}"
  >
    <div class="custom-footer__grid">

      {%- comment -%} COLUMN 1: BRAND IDENTITY {%- endcomment -%}
      <div class="custom-footer__column custom-footer__column--brand">
        {% if section.settings.logo_text != blank %}
          <h2 class="custom-footer__logo">{{ section.settings.logo_text }}</h2>
        {% endif %}
        {% if section.settings.description != blank %}
          <p class="custom-footer__description">{{ section.settings.description }}</p>
        {% endif %}
      </div>

      {%- comment -%} COLUMN 2: CONTACT INFORMATION {%- endcomment -%}
      <div class="custom-footer__column">
        {% if section.settings.contact_heading != blank %}
          <h3 class="custom-footer__heading">{{ section.settings.contact_heading }}</h3>
        {% endif %}
        <address class="custom-footer__contact-info">
          {% if section.settings.email != blank %}
            <p class="custom-footer__contact-item">
              <a href="mailto:{{ section.settings.email }}">{{ section.settings.email }}</a>
            </p>
          {% endif %}
          {% if section.settings.phone != blank %}
            <p class="custom-footer__contact-item">
              {{ section.settings.phone }}
            </p>
          {% endif %}
          {% if section.settings.address != blank %}
            <p class="custom-footer__contact-item">
              {{ section.settings.address }}
            </p>
          {% endif %}
        </address>
      </div>

      {%- comment -%} COLUMN 3: SITE NAVIGATION LINKS {%- endcomment -%}
      <div class="custom-footer__column">
        {% if section.settings.nav_heading != blank %}
          <h3 class="custom-footer__heading">{{ section.settings.nav_heading }}</h3>
        {% endif %}
        {% if section.settings.menu != blank %}
          <ul class="custom-footer__nav-list">
            {% for link in linklists[section.settings.menu].links %}
              <li class="custom-footer__nav-item">
                <a href="{{ link.url }}" class="custom-footer__nav-link">
                  {{ link.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>

      {%- comment -%} COLUMN 4: SOCIAL MEDIA LINKS {%- endcomment -%}
      <div class="custom-footer__column">
        {% if section.settings.social_heading != blank %}
          <h3 class="custom-footer__heading">{{ section.settings.social_heading }}</h3>
        {% endif %}
        <div class="custom-footer__social-list">
          {% for block in section.blocks %}
            {% if block.type == 'social_link' %}
              <a
                href="{{ block.settings.url }}"
                class="custom-footer__social-link"
                target="_blank"
                rel="noreferrer"
                aria-label="{{ block.settings.label }}"
                {{ block.shopify_attributes }}
              >
                {% case block.settings.platform %}
                  {% when 'tiktok' %}
                    <svg class="custom-footer__social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                      <path d="M9 0h1.98c.144.715.54 1.617 1.235 2.512C12.895 3.389 13.797 4 15 4v2c-1.753 0-3.07-.814-4-1.829V11a5 5 0 1 1-5-5v2a3 3 0 1 0 3 3z"/>
                    </svg>
                  {% when 'facebook' %}
                    <svg class="custom-footer__social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 15" fill="currentColor">
                      <path d="M4.40924 5.15357V3.27857C4.40946 3.15538 4.43254 3.03345 4.47714 2.91973C4.52174 2.80602 4.58699 2.70277 4.66917 2.61587C4.75135 2.52896 4.84884 2.46012 4.95607 2.41328C5.0633 2.36644 5.17818 2.34251 5.29412 2.34286H6.17563V1.41826e-07H4.41092C4.06345 -0.000117134 3.71938 0.0724976 3.39833 0.213697C3.07728 0.354896 2.78556 0.561913 2.53982 0.822924C2.29409 1.08393 2.09915 1.39382 1.96615 1.73489C1.83316 2.07596 1.76471 2.44153 1.76471 2.81071V5.15357H0V7.5H1.76471V15H4.41009V7.5H6.1748L7.05882 5.15357H4.40924Z"/>
                    </svg>
                  {% when 'instagram' %}
                    <svg class="custom-footer__social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                      <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/>
                    </svg>
                  {% when 'twitter' %}
                    <svg class="custom-footer__social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                      <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
                    </svg>
                  {% when 'youtube' %}
                    <svg class="custom-footer__social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                      <path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"/>
                    </svg>
                  {% when 'linkedin' %}
                    <svg class="custom-footer__social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                      <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
                    </svg>
                  {% when 'pinterest' %}
                    <svg class="custom-footer__social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                      <path d="M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.423 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0"/>
                    </svg>
                {% endcase %}
              </a>
            {% endif %}
          {% endfor %}
        </div>
      </div>

    </div>
  </div>

  {%- comment -%} FOOTER BOTTOM BAR: COPYRIGHT AND CREDITS {%- endcomment -%}
  <div class="custom-footer__bottom">
    <div class="custom-footer__bottom-container">
      <div class="custom-footer__copyright">
        &copy; {{ 'now' | date: '%Y' }}. All Rights Reserved.
      </div>
      {% if section.settings.credits != blank %}
        <div class="custom-footer__credits">
          {{ section.settings.credits }}
        </div>
      {% endif %}
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Custom Footer",
  "tag": "div",
  "class": "custom-footer-section",
  "enabled_on": {
    "groups": ["footer"]
  },
  "settings": [
    {
      "type": "select",
      "id": "section_width",
      "label": "Section width",
      "options": [
        { "value": "page-width", "label": "Page width" },
        { "value": "full-width", "label": "Full width" }
      ],
      "default": "page-width"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Brand"
    },
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo text",
      "default": "Modular House"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Brand description",
      "default": "Modular House is a premier specialist in steel frame construction, dedicated to transforming homes with precision and speed. We deliver bespoke, energy-efficient garden rooms and house extensions designed for modern living and built to last a lifetime."
    },
    {
      "type": "header",
      "content": "Contact"
    },
    {
      "type": "text",
      "id": "contact_heading",
      "label": "Contact heading",
      "default": "Contact"
    },
    {
      "type": "text",
      "id": "email",
      "label": "Email",
      "default": "info@sdeal.ie"
    },
    {
      "type": "text",
      "id": "phone",
      "label": "Phone",
      "default": "(+353) 0830280000"
    },
    {
      "type": "richtext",
      "id": "address",
      "label": "Address",
      "default": "<p>Unit 8,<br>Finches Business Park,<br>Long Mile road Dublin 12,<br>D12 N9YV</p>"
    },
    {
      "type": "header",
      "content": "Navigation"
    },
    {
      "type": "text",
      "id": "nav_heading",
      "label": "Navigation heading",
      "default": "Links"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    },
    {
      "type": "header",
      "content": "Social"
    },
    {
      "type": "text",
      "id": "social_heading",
      "label": "Social heading",
      "default": "Get in Touch"
    },
    {
      "type": "header",
      "content": "Bottom bar"
    },
    {
      "type": "text",
      "id": "credits",
      "label": "Credits text",
      "default": "Built by Zhaoxiang Qiu"
    },
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding-block-start",
      "label": "Top padding",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding-block-end",
      "label": "Bottom padding",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 20
    }
  ],
  "blocks": [
    {
      "type": "social_link",
      "name": "Social link",
      "settings": [
        {
          "type": "select",
          "id": "platform",
          "label": "Platform",
          "options": [
            { "value": "tiktok", "label": "TikTok" },
            { "value": "facebook", "label": "Facebook" },
            { "value": "instagram", "label": "Instagram" },
            { "value": "twitter", "label": "X (Twitter)" },
            { "value": "youtube", "label": "YouTube" },
            { "value": "linkedin", "label": "LinkedIn" },
            { "value": "pinterest", "label": "Pinterest" }
          ],
          "default": "facebook"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Link URL"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Accessible label",
          "default": "Follow us"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Footer",
      "category": "Footer",
      "settings": {
        "section_width": "page-width",
        "color_scheme": "scheme-1",
        "logo_text": "Modular House",
        "contact_heading": "Contact",
        "email": "info@sdeal.ie",
        "phone": "(+353) 0830280000",
        "nav_heading": "Links",
        "social_heading": "Get in Touch",
        "credits": "Built by Zhaoxiang Qiu",
        "padding-block-start": 60,
        "padding-block-end": 20
      },
      "blocks": [
        {
          "type": "social_link",
          "settings": {
            "platform": "tiktok",
            "url": "https://www.tiktok.com/@sdeal.ie",
            "label": "TikTok"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "platform": "facebook",
            "url": "https://www.facebook.com/share/14UYzG2TMHN/?mibextid=wwXIfr",
            "label": "Facebook"
          }
        }
      ]
    }
  ]
}
{% endschema %}
