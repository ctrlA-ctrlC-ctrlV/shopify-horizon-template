{%- comment -%}
  Kitchen Cabinets Banner Section
  Renders a hero banner with background image, title, and subheading.
  Optimised for SEO targeting "kitchen cabinet" / "kitchen cabinets".
{%- endcomment -%}

{{ 'kitchen-cabinets.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign heading       = section.settings.heading
  assign subheading    = section.settings.subheading
  assign bg_image      = section.settings.background_image
  assign overlay       = section.settings.overlay_opacity
  assign text_color    = section.settings.text_color
  assign section_height = section.settings.section_height
-%}

<section
  class="kc-banner kc-banner--{{ section_height }} color-{{ section.settings.color_scheme }}"
  aria-label="{{ heading | escape }}"
  style="--kc-banner-text-color: {{ text_color }}; --kc-banner-overlay-opacity: {{ overlay | divided_by: 100.0 }};"
>
  {%- if bg_image != blank -%}
    <picture class="kc-banner__media">
      <source
        media="(min-width: 750px)"
        srcset="{{ bg_image | image_url: width: 1920 }} 1920w,
               {{ bg_image | image_url: width: 1440 }} 1440w,
               {{ bg_image | image_url: width: 1200 }} 1200w"
        sizes="100vw"
      >
      <img
        src="{{ bg_image | image_url: width: 900 }}"
        srcset="{{ bg_image | image_url: width: 900 }} 900w,
               {{ bg_image | image_url: width: 600 }} 600w,
               {{ bg_image | image_url: width: 400 }} 400w"
        sizes="100vw"
        alt="{{ bg_image.alt | default: heading | escape }}"
        loading="eager"
        fetchpriority="high"
        width="{{ bg_image.width }}"
        height="{{ bg_image.height }}"
        class="kc-banner__image"
      >
    </picture>
  {%- else -%}
    <div class="kc-banner__media kc-banner__media--placeholder">
      {{ 'lifestyle-1' | placeholder_svg_tag: 'kc-banner__placeholder' }}
    </div>
  {%- endif -%}

  {%- comment -%} Dark overlay for text legibility {%- endcomment -%}
  <div class="kc-banner__overlay" aria-hidden="true"></div>

  <div class="kc-banner__content page-width">
    {%- if heading != blank -%}
      <h1 class="kc-banner__heading h1">{{ heading | escape }}</h1>
    {%- endif -%}
    {%- if subheading != blank -%}
      <p class="kc-banner__subheading">{{ subheading }}</p>
    {%- endif -%}
  </div>
</section>

{%- comment -%}
  Structured data for SEO — outputs JSON‑LD so search engines understand
  the page is about kitchen cabinets.
{%- endcomment -%}
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "{{ heading | escape }}",
    "description": "{{ subheading | strip_html | escape }}",
    "url": "{{ canonical_url }}",
    {% if bg_image != blank %}
      "image": "{{ bg_image | image_url: width: 1200 }}",
    {% endif %}
    "mainEntity": {
      "@type": "ItemList",
      "name": "{{ heading | escape }} Catalogue",
      "description": "Browse our full range of {{ heading | downcase }}.",
      "numberOfItems": {{ collection.products_count | default: 0 }}
    }
  }
</script>

{% schema %}
{
  "name": "Kitchen Cabinets Banner",
  "class": "kc-banner-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Kitchen Cabinets"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Premium quality kitchen cabinets, built to order from our factory direct to your project."
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 40
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text colour",
      "default": "#ffffff"
    },
    {
      "type": "select",
      "id": "section_height",
      "label": "Banner height",
      "options": [
        { "value": "small",  "label": "Small (300 px)" },
        { "value": "medium", "label": "Medium (450 px)" },
        { "value": "large",  "label": "Large (600 px)" }
      ],
      "default": "medium"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Colour scheme",
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "Kitchen Cabinets Banner"
    }
  ]
}
{% endschema %}
